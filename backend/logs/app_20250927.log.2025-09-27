2025-09-27 15:41:15,583 - INFO - [startup] - config.logging_config - Logging setup complete. Writing to logs\app_20250927.log
2025-09-27 15:41:15,583 - INFO - [-] - config.logging_config - Including routers...
2025-09-27 15:41:15,912 - INFO - [-] - config.logging_config - Routers included
2025-09-27 15:41:15,913 - INFO - [-] - config.logging_config - Application startup complete
2025-09-27 15:41:15,914 - INFO - [-] - config.logging_config - Application starting up...
2025-09-27 15:41:15,914 - INFO - [-] - database - Initializing database...
2025-09-27 15:41:19,541 - INFO - [-] - database - Database initialized successfully
2025-09-27 15:41:19,543 - INFO - [-] - config.logging_config - Database initialized
2025-09-27 15:41:20,745 - INFO - [a718b53b-3e76-421e-8240-568d776e7a70] - middleware.logging_middleware - Request: GET /docs
2025-09-27 15:41:20,748 - INFO - [a718b53b-3e76-421e-8240-568d776e7a70] - middleware.logging_middleware - Response: 200 - 5.05ms
2025-09-27 15:41:22,068 - INFO - [437ae60f-2089-4db4-adec-2cb77d5a07f8] - middleware.logging_middleware - Request: GET /openapi.json
2025-09-27 15:41:22,745 - WARNING - [437ae60f-2089-4db4-adec-2cb77d5a07f8] - middleware.logging_middleware - Slow response: 200 - 677.36ms
2025-09-27 16:00:43,675 - INFO - [startup] - config.logging_config - Logging setup complete. Writing to logs\app_20250927.log
2025-09-27 16:00:43,675 - INFO - [-] - config.logging_config - Including routers...
2025-09-27 16:00:43,833 - INFO - [-] - config.logging_config - Routers included
2025-09-27 16:00:43,835 - INFO - [-] - config.logging_config - Application startup complete
2025-09-27 16:00:43,839 - INFO - [-] - config.logging_config - Application starting up...
2025-09-27 16:00:43,840 - INFO - [-] - database - Initializing database...
2025-09-27 16:00:45,942 - INFO - [-] - database - Database initialized successfully
2025-09-27 16:00:45,942 - INFO - [-] - config.logging_config - Database initialized
2025-09-27 16:01:18,379 - INFO - [startup] - config.logging_config - Logging setup complete. Writing to logs\app_20250927.log
2025-09-27 16:01:18,380 - INFO - [-] - config.logging_config - Including routers...
2025-09-27 16:01:18,513 - INFO - [-] - config.logging_config - Routers included
2025-09-27 16:01:18,515 - INFO - [-] - config.logging_config - Application startup complete
2025-09-27 16:01:18,516 - INFO - [-] - config.logging_config - Application starting up...
2025-09-27 16:01:18,516 - INFO - [-] - database - Initializing database...
2025-09-27 16:01:20,753 - INFO - [-] - database - Database initialized successfully
2025-09-27 16:01:20,753 - INFO - [-] - config.logging_config - Database initialized
2025-09-27 16:01:24,333 - INFO - [startup] - config.logging_config - Logging setup complete. Writing to logs\app_20250927.log
2025-09-27 16:01:24,333 - INFO - [-] - config.logging_config - Including routers...
2025-09-27 16:01:24,463 - INFO - [-] - config.logging_config - Routers included
2025-09-27 16:01:24,465 - INFO - [-] - config.logging_config - Application startup complete
2025-09-27 16:01:24,465 - INFO - [-] - config.logging_config - Application starting up...
2025-09-27 16:01:24,466 - INFO - [-] - database - Initializing database...
2025-09-27 16:01:26,252 - INFO - [-] - database - Database initialized successfully
2025-09-27 16:01:26,253 - INFO - [-] - config.logging_config - Database initialized
2025-09-27 16:01:26,257 - INFO - [5870a27e-6a47-45d0-92b5-462b17fe52cf] - middleware.logging_middleware - Request: GET /docs
2025-09-27 16:01:26,257 - INFO - [5870a27e-6a47-45d0-92b5-462b17fe52cf] - middleware.logging_middleware - Response: 200 - 0.00ms
2025-09-27 16:01:26,506 - INFO - [927770a9-68fd-4b98-937e-1f34fc8ef9a4] - middleware.logging_middleware - Request: GET /openapi.json
2025-09-27 16:01:26,668 - INFO - [927770a9-68fd-4b98-937e-1f34fc8ef9a4] - middleware.logging_middleware - Response: 200 - 161.91ms
2025-09-27 16:01:54,999 - INFO - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - middleware.logging_middleware - Request: GET /api/auth/me
2025-09-27 16:01:55,001 - INFO - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - services.auth_service - validate_token called
2025-09-27 16:01:55,001 - INFO - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - services.auth_service - Getting token from credentials
2025-09-27 16:01:55,001 - INFO - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - services.auth_service - Token: eyJhbGciOi...
2025-09-27 16:01:55,005 - ERROR - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - services.auth_service - ############## JWT validation error ##############
2025-09-27 16:01:55,005 - ERROR - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - services.auth_service - JWT validation error: Signature has expired.
2025-09-27 16:01:55,007 - ERROR - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - services.auth_service - Traceback (most recent call last):
  File "C:\code\kh\backend\services\auth_service.py", line 279, in validate_token
    payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 157, in decode
    _validate_claims(
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 481, in _validate_claims
    _validate_exp(claims, leeway=leeway)
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 314, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

2025-09-27 16:01:55,008 - WARNING - [05c0835e-bb67-40ae-815f-8e9a2b463e24] - middleware.logging_middleware - Response: 401 - 9.70ms
2025-09-27 16:02:07,498 - INFO - [f5e62e2f-f92a-4f78-ac00-168eaf91b379] - middleware.logging_middleware - Request: POST /api/auth/login
2025-09-27 16:02:07,500 - INFO - [f5e62e2f-f92a-4f78-ac00-168eaf91b379] - services.auth_service - Login attempt for email: cliff.rosen@gmail.com
2025-09-27 16:02:07,910 - INFO - [f5e62e2f-f92a-4f78-ac00-168eaf91b379] - services.auth_service - Creating access token with data: {'sub': 'cliff.rosen@gmail.com', 'user_id': 3, 'username': 'cliff.rosen', 'role': 'admin'}
2025-09-27 16:02:07,911 - INFO - [f5e62e2f-f92a-4f78-ac00-168eaf91b379] - services.auth_service - Access token created successfully
2025-09-27 16:02:09,133 - INFO - [f5e62e2f-f92a-4f78-ac00-168eaf91b379] - services.auth_service - Successfully logged in user: cliff.rosen@gmail.com with session: 39e717b1-9a05-4057-a744-e109ce12dfb8
2025-09-27 16:02:09,284 - WARNING - [f5e62e2f-f92a-4f78-ac00-168eaf91b379] - middleware.logging_middleware - Slow response: 200 - 1785.16ms
2025-09-27 16:02:28,207 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - middleware.logging_middleware - Request: GET /api/auth/me
2025-09-27 16:02:28,208 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - services.auth_service - validate_token called
2025-09-27 16:02:28,208 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - services.auth_service - Getting token from credentials
2025-09-27 16:02:28,209 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - services.auth_service - Token: eyJhbGciOi...
2025-09-27 16:02:28,209 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - services.auth_service - Token expires in 35979 seconds
2025-09-27 16:02:28,209 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: admin
2025-09-27 16:02:28,536 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-09-27 16:02:28,656 - INFO - [766f4e04-4999-4b60-b75e-3bd3df66a602] - middleware.logging_middleware - Response: 200 - 449.25ms
2025-09-27 16:21:58,549 - INFO - [44a30b7f-1686-437c-ba38-ee9df07eccc0] - middleware.logging_middleware - Request: GET /api/sessions/active
2025-09-27 16:21:58,553 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - middleware.logging_middleware - Request: GET /api/sessions/active
2025-09-27 16:21:58,559 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - validate_token called
2025-09-27 16:21:58,559 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Getting token from credentials
2025-09-27 16:21:58,560 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Token: eyJhbGciOi...
2025-09-27 16:21:58,560 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Token expires in 11330 seconds
2025-09-27 16:21:58,561 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: admin
2025-09-27 16:21:58,660 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-09-27 16:21:59,019 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - validate_token called
2025-09-27 16:21:59,019 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Getting token from credentials
2025-09-27 16:21:59,019 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Token: eyJhbGciOi...
2025-09-27 16:21:59,020 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Token expires in 11329 seconds
2025-09-27 16:21:59,020 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: admin
2025-09-27 16:21:59,448 - INFO - [239300e3-1396-48b8-aee4-7e54f340984e] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-09-27 16:21:59,905 - WARNING - [239300e3-1396-48b8-aee4-7e54f340984e] - middleware.logging_middleware - Slow response: 200 - 1351.76ms
2025-09-27 16:21:59,905 - WARNING - [44a30b7f-1686-437c-ba38-ee9df07eccc0] - middleware.logging_middleware - Slow response: 200 - 1356.02ms
2025-09-27 16:23:35,023 - INFO - [f1ffa296-e132-49a6-8706-33d2a8968d3c] - middleware.logging_middleware - Request: GET /api/sessions/active
2025-09-27 16:23:35,023 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - middleware.logging_middleware - Request: GET /api/sessions/active
2025-09-27 16:23:35,026 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - validate_token called
2025-09-27 16:23:35,028 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Getting token from credentials
2025-09-27 16:23:35,029 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Token: eyJhbGciOi...
2025-09-27 16:23:35,029 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Token expires in 11233 seconds
2025-09-27 16:23:35,030 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: admin
2025-09-27 16:23:35,149 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-09-27 16:23:35,410 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - validate_token called
2025-09-27 16:23:35,410 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Getting token from credentials
2025-09-27 16:23:35,410 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Token: eyJhbGciOi...
2025-09-27 16:23:35,410 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Token expires in 11233 seconds
2025-09-27 16:23:35,410 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: admin
2025-09-27 16:23:35,520 - INFO - [d9742366-a3d0-4589-8406-4c17508ac772] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-09-27 16:23:35,977 - WARNING - [f1ffa296-e132-49a6-8706-33d2a8968d3c] - middleware.logging_middleware - Slow response: 200 - 955.58ms
2025-09-27 16:23:35,995 - WARNING - [d9742366-a3d0-4589-8406-4c17508ac772] - middleware.logging_middleware - Slow response: 200 - 970.46ms
