2025-10-23 13:21:26,697 - INFO - [c9000ed4-7d7d-4403-80e0-92c94f8d8dfb] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:21:26,712 - INFO - [48b7f618-582e-4108-bc41-0e9f8150ed83] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:21:26,728 - INFO - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - validate_token called
2025-10-23 13:21:26,729 - INFO - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - Getting token from credentials
2025-10-23 13:21:26,729 - INFO - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:21:26,735 - ERROR - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - ############## JWT validation error ##############
2025-10-23 13:21:26,736 - ERROR - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - JWT validation error: Signature has expired.
2025-10-23 13:21:26,743 - ERROR - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - Traceback (most recent call last):
  File "C:\code\kh\backend\services\auth_service.py", line 222, in validate_token
    payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 157, in decode
    _validate_claims(
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 481, in _validate_claims
    _validate_exp(claims, leeway=leeway)
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 314, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

2025-10-23 13:21:26,745 - INFO - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - validate_token called
2025-10-23 13:21:26,745 - INFO - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - Getting token from credentials
2025-10-23 13:21:26,745 - INFO - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:21:26,746 - ERROR - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - ############## JWT validation error ##############
2025-10-23 13:21:26,746 - ERROR - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - JWT validation error: Signature has expired.
2025-10-23 13:21:26,748 - ERROR - [48b7f618-582e-4108-bc41-0e9f8150ed83] - services.auth_service - Traceback (most recent call last):
  File "C:\code\kh\backend\services\auth_service.py", line 222, in validate_token
    payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 157, in decode
    _validate_claims(
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 481, in _validate_claims
    _validate_exp(claims, leeway=leeway)
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 314, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

2025-10-23 13:21:26,757 - WARNING - [c9000ed4-7d7d-4403-80e0-92c94f8d8dfb] - middleware.logging_middleware - Response: 401 - 60.75ms
2025-10-23 13:21:26,760 - WARNING - [48b7f618-582e-4108-bc41-0e9f8150ed83] - middleware.logging_middleware - Response: 401 - 46.75ms
2025-10-23 13:21:29,844 - INFO - [a9200646-3f93-4eb0-98da-0fca5594a752] - middleware.logging_middleware - Request: POST /api/auth/login
2025-10-23 13:21:29,849 - INFO - [a9200646-3f93-4eb0-98da-0fca5594a752] - services.auth_service - Login attempt for email: cliff.rosen@gmail.com
2025-10-23 13:21:30,415 - INFO - [a9200646-3f93-4eb0-98da-0fca5594a752] - services.auth_service - Creating access token with data: {'sub': 'cliff.rosen@gmail.com', 'user_id': 22, 'username': 'cliff.rosen', 'role': 'user'}
2025-10-23 13:21:30,416 - INFO - [a9200646-3f93-4eb0-98da-0fca5594a752] - services.auth_service - Access token created successfully
2025-10-23 13:21:30,416 - INFO - [a9200646-3f93-4eb0-98da-0fca5594a752] - services.auth_service - Successfully logged in user: cliff.rosen@gmail.com
2025-10-23 13:21:30,500 - WARNING - [a9200646-3f93-4eb0-98da-0fca5594a752] - middleware.logging_middleware - Slow response: 200 - 655.52ms
2025-10-23 13:21:30,565 - INFO - [1104c895-587b-42e6-b87a-98d965b2890e] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:21:30,567 - INFO - [1104c895-587b-42e6-b87a-98d965b2890e] - services.auth_service - validate_token called
2025-10-23 13:21:30,567 - INFO - [1104c895-587b-42e6-b87a-98d965b2890e] - services.auth_service - Getting token from credentials
2025-10-23 13:21:30,567 - INFO - [1104c895-587b-42e6-b87a-98d965b2890e] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:21:30,568 - INFO - [1104c895-587b-42e6-b87a-98d965b2890e] - services.auth_service - Token expires in 36000 seconds
2025-10-23 13:21:30,568 - INFO - [1104c895-587b-42e6-b87a-98d965b2890e] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-23 13:21:30,820 - INFO - [1104c895-587b-42e6-b87a-98d965b2890e] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-23 13:21:30,913 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:21:30,914 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - services.auth_service - validate_token called
2025-10-23 13:21:30,915 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - services.auth_service - Getting token from credentials
2025-10-23 13:21:30,915 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:21:30,915 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - services.auth_service - Token expires in 36000 seconds
2025-10-23 13:21:30,915 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-23 13:21:30,989 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-23 13:21:31,073 - WARNING - [1104c895-587b-42e6-b87a-98d965b2890e] - middleware.logging_middleware - Slow response: 200 - 509.34ms
2025-10-23 13:21:31,144 - INFO - [1cea55bf-c8d4-4543-87e2-de5e4755dfb6] - middleware.logging_middleware - Response: 200 - 230.91ms
2025-10-23 13:22:00,551 - INFO - [6df49c0c-7b33-4b32-82a8-fa07c33d5748] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:22:00,553 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:22:00,555 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - validate_token called
2025-10-23 13:22:00,555 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Getting token from credentials
2025-10-23 13:22:00,555 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:22:00,556 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Token expires in 35970 seconds
2025-10-23 13:22:00,556 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-23 13:22:00,631 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-23 13:22:00,708 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - validate_token called
2025-10-23 13:22:00,708 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Getting token from credentials
2025-10-23 13:22:00,708 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:22:00,709 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Token expires in 35970 seconds
2025-10-23 13:22:00,709 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-23 13:22:00,784 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-23 13:22:00,933 - INFO - [6df49c0c-7b33-4b32-82a8-fa07c33d5748] - middleware.logging_middleware - Response: 200 - 381.69ms
2025-10-23 13:22:00,938 - INFO - [f0bba845-2be7-43cd-ac43-78f1b31e531d] - middleware.logging_middleware - Response: 200 - 384.71ms
2025-10-23 13:22:03,974 - INFO - [8258167a-a17a-43a5-956f-28caa2be12a7] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:22:03,976 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - middleware.logging_middleware - Request: GET /api/research-streams/metadata/sources
2025-10-23 13:22:03,980 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - services.auth_service - validate_token called
2025-10-23 13:22:03,980 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - services.auth_service - Getting token from credentials
2025-10-23 13:22:03,981 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:22:03,982 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - services.auth_service - Token expires in 35967 seconds
2025-10-23 13:22:03,982 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-23 13:22:04,064 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-23 13:22:04,144 - INFO - [d5addc86-d361-4268-8d45-3d9eaf35f545] - middleware.logging_middleware - Response: 200 - 167.61ms
2025-10-23 13:22:04,145 - INFO - [ea254d34-2e82-4046-9ed2-85d4cfb95ae5] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-23 13:22:04,145 - INFO - [af4312f8-da6d-4cb5-b4a1-d6ad93b23149] - middleware.logging_middleware - Request: GET /api/research-streams/metadata/sources
2025-10-23 13:22:04,148 - INFO - [af4312f8-da6d-4cb5-b4a1-d6ad93b23149] - middleware.logging_middleware - Response: 200 - 3.00ms
2025-10-23 13:22:04,148 - INFO - [-] - services.auth_service - validate_token called
2025-10-23 13:22:04,148 - INFO - [-] - services.auth_service - Getting token from credentials
2025-10-23 13:22:04,149 - INFO - [-] - services.auth_service - Token: eyJhbGciOi...
2025-10-23 13:22:04,149 - INFO - [-] - services.auth_service - Token expires in 35966 seconds
2025-10-23 13:22:04,149 - INFO - [-] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-23 13:22:04,221 - INFO - [-] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-23 13:22:04,302 - INFO - [8258167a-a17a-43a5-956f-28caa2be12a7] - middleware.logging_middleware - Response: 200 - 327.56ms
2025-10-23 13:22:04,372 - INFO - [ea254d34-2e82-4046-9ed2-85d4cfb95ae5] - middleware.logging_middleware - Response: 200 - 227.49ms
