2025-10-21 09:26:01,080 - INFO - [startup] - config.logging_config - Logging setup complete. Writing to logs\app_20251021.log
2025-10-21 09:26:01,081 - INFO - [-] - config.logging_config - Including routers...
2025-10-21 09:26:01,140 - INFO - [-] - config.logging_config - Routers included
2025-10-21 09:26:01,141 - INFO - [-] - config.logging_config - Application startup complete
2025-10-21 09:26:01,142 - INFO - [-] - config.logging_config - Application starting up...
2025-10-21 09:26:01,143 - INFO - [-] - database - Initializing database...
2025-10-21 09:26:02,238 - INFO - [-] - database - Database initialized successfully
2025-10-21 09:26:02,239 - INFO - [-] - config.logging_config - Database initialized
2025-10-21 09:26:08,930 - INFO - [startup] - config.logging_config - Logging setup complete. Writing to logs\app_20251021.log
2025-10-21 09:26:08,931 - INFO - [-] - config.logging_config - Including routers...
2025-10-21 09:26:09,004 - INFO - [-] - config.logging_config - Routers included
2025-10-21 09:26:09,004 - INFO - [-] - config.logging_config - Application startup complete
2025-10-21 09:26:09,005 - INFO - [-] - config.logging_config - Application starting up...
2025-10-21 09:26:09,005 - INFO - [-] - database - Initializing database...
2025-10-21 09:26:09,935 - INFO - [-] - database - Database initialized successfully
2025-10-21 09:26:09,935 - INFO - [-] - config.logging_config - Database initialized
2025-10-21 09:26:13,568 - INFO - [887e0543-be71-428f-a4e4-9aa0c17aba8d] - middleware.logging_middleware - Request: GET /docs
2025-10-21 09:26:13,569 - INFO - [887e0543-be71-428f-a4e4-9aa0c17aba8d] - middleware.logging_middleware - Response: 200 - 1.00ms
2025-10-21 09:26:13,865 - INFO - [332d8d83-93f7-456f-abf0-e98ae4b39ce2] - middleware.logging_middleware - Request: GET /openapi.json
2025-10-21 09:26:14,048 - INFO - [332d8d83-93f7-456f-abf0-e98ae4b39ce2] - middleware.logging_middleware - Response: 200 - 183.25ms
2025-10-21 09:26:20,079 - INFO - [cd6501e4-3493-43cc-a90d-32f420f61aa9] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-21 09:26:20,080 - INFO - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-21 09:26:20,082 - INFO - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - validate_token called
2025-10-21 09:26:20,083 - INFO - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - Getting token from credentials
2025-10-21 09:26:20,083 - INFO - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - Token: eyJhbGciOi...
2025-10-21 09:26:20,111 - ERROR - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - ############## JWT validation error ##############
2025-10-21 09:26:20,112 - ERROR - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - JWT validation error: Signature has expired.
2025-10-21 09:26:20,139 - ERROR - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - Traceback (most recent call last):
  File "C:\code\kh\backend\services\auth_service.py", line 222, in validate_token
    payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 157, in decode
    _validate_claims(
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 481, in _validate_claims
    _validate_exp(claims, leeway=leeway)
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 314, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

2025-10-21 09:26:20,140 - INFO - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - validate_token called
2025-10-21 09:26:20,140 - INFO - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - Getting token from credentials
2025-10-21 09:26:20,140 - INFO - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - Token: eyJhbGciOi...
2025-10-21 09:26:20,140 - ERROR - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - ############## JWT validation error ##############
2025-10-21 09:26:20,141 - ERROR - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - JWT validation error: Signature has expired.
2025-10-21 09:26:20,141 - ERROR - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - services.auth_service - Traceback (most recent call last):
  File "C:\code\kh\backend\services\auth_service.py", line 222, in validate_token
    payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 157, in decode
    _validate_claims(
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 481, in _validate_claims
    _validate_exp(claims, leeway=leeway)
  File "C:\code\kh\backend\venv\Lib\site-packages\jose\jwt.py", line 314, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

2025-10-21 09:26:20,143 - WARNING - [cd6501e4-3493-43cc-a90d-32f420f61aa9] - middleware.logging_middleware - Response: 401 - 63.99ms
2025-10-21 09:26:20,144 - WARNING - [789ddab7-00e5-43d0-8d41-8896cbbd44de] - middleware.logging_middleware - Response: 401 - 63.88ms
2025-10-21 09:26:24,473 - INFO - [ad37d37e-7245-4590-89a3-5de71ee2ca14] - middleware.logging_middleware - Request: POST /api/auth/login
2025-10-21 09:26:24,474 - INFO - [ad37d37e-7245-4590-89a3-5de71ee2ca14] - services.auth_service - Login attempt for email: cliff.rosen@gmail.com
2025-10-21 09:26:24,845 - INFO - [ad37d37e-7245-4590-89a3-5de71ee2ca14] - services.auth_service - Creating access token with data: {'sub': 'cliff.rosen@gmail.com', 'user_id': 22, 'username': 'cliff.rosen', 'role': 'user'}
2025-10-21 09:26:24,845 - INFO - [ad37d37e-7245-4590-89a3-5de71ee2ca14] - services.auth_service - Access token created successfully
2025-10-21 09:26:24,846 - INFO - [ad37d37e-7245-4590-89a3-5de71ee2ca14] - services.auth_service - Successfully logged in user: cliff.rosen@gmail.com
2025-10-21 09:26:24,918 - INFO - [ad37d37e-7245-4590-89a3-5de71ee2ca14] - middleware.logging_middleware - Response: 200 - 445.40ms
2025-10-21 09:26:24,984 - INFO - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-21 09:26:24,985 - INFO - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - services.auth_service - validate_token called
2025-10-21 09:26:24,986 - INFO - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - services.auth_service - Getting token from credentials
2025-10-21 09:26:24,986 - INFO - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - services.auth_service - Token: eyJhbGciOi...
2025-10-21 09:26:24,987 - INFO - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - services.auth_service - Token expires in 36000 seconds
2025-10-21 09:26:24,987 - INFO - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-21 09:26:25,065 - INFO - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-21 09:26:25,289 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - middleware.logging_middleware - Request: GET /api/research-streams
2025-10-21 09:26:25,291 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - services.auth_service - validate_token called
2025-10-21 09:26:25,291 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - services.auth_service - Getting token from credentials
2025-10-21 09:26:25,291 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - services.auth_service - Token: eyJhbGciOi...
2025-10-21 09:26:25,292 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - services.auth_service - Token expires in 35999 seconds
2025-10-21 09:26:25,292 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - services.auth_service - Token decoded, email: cliff.rosen@gmail.com, username: cliff.rosen, role: user
2025-10-21 09:26:25,605 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - services.auth_service - Successfully validated token for user: cliff.rosen@gmail.com
2025-10-21 09:26:25,684 - WARNING - [34fc84a4-6152-476f-bc27-7ab5bd40a939] - middleware.logging_middleware - Slow response: 200 - 699.42ms
2025-10-21 09:26:25,771 - INFO - [024b6ccd-b71d-42bb-a8e2-5db98301652f] - middleware.logging_middleware - Response: 200 - 481.53ms
