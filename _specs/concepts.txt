**Framework: Domain Definition → Concept Extraction → Boolean Queries**

---

**INPUTS**

**Domain D:** Collection of related topics [T1, T2, ..., Tm]

**Each Topic Ti contains:**
- Name and description
- Importance level
- Rationale (why it matters for domain)
- Optional parent-child relationships

---

**PHASE 1: ENTITY & RELATIONSHIP ANALYSIS**

**1.1 Extract entities across all topics**
- Diseases, drugs, genes, proteins, organisms, methods, exposures, biomarkers, etc.
- Note frequency and importance

**1.2 Identify relationship patterns**
- How entities connect: treats, causes, modulates, predisposes-to, indicates, modifies-risk-from, etc.
- Common patterns in this domain

**1.3 Identify entity hierarchies**
- Parent-child relationships: "tumor suppressor genes" ⊃ "BAP1"
- Helps determine generalization level

---

**PHASE 2: CANDIDATE CONCEPT GENERATION**

**For each topic or cluster of related topics:**

**2.1 Define the core pattern**
- What is the single inclusion pattern?
- Format: (entity₁) [relationship] (entity₂) [relationship] (entity₃)...

**2.2 Choose generalization level**
- Too specific → false negatives (missed papers)
- Too general → false positives (filtering burden)
- Right level: captures intent, queryable vocabulary, appropriate volume

**Ask:** 
- If I need OR between patterns, should I generalize the entity instead?
- Is this how researchers actually organize this literature?

**2.3 Check decomposition needs**
- Does topic naturally split into multiple concepts?
- Different research communities, different literatures → separate concepts
- Example: "gene therapy for cancer and rare disease" → TWO concepts

**2.4 Identify implicit concepts**
- Related areas Person A likely wants but didn't explicitly state
- Requires domain knowledge or clarification

---

**PHASE 3: CONCEPT CONSOLIDATION**

**3.1 Merge overlapping concepts**
- Same entity-relationship pattern across topics
- Combine if they represent identical semantic unit

**3.2 Handle hierarchies**
- If concept X is subsumed by concept P:
  - Keep both if X is critically important (e.g., BAP1 within tumor suppressors)
  - Keep only most specific if X provides adequate coverage
  - Keep parent if children are all too rare

**3.3 Check completeness**
- Does concept set cover all topics?
- Map each topic to concepts that cover it
- Identify gaps

**3.4 Remove redundancy**
- Eliminate concepts that don't add coverage
- Merge concepts with near-identical patterns

---

**PHASE 4: CONCEPT REFINEMENT (ITERATIVE)**

**For each concept:**

**4.1 Define vocabulary expansion**
- Within each entity, list synonyms/variants/related terms
- These become OR clauses within the entity
- Example: checkpoint inhibitors = (pembrolizumab OR nivolumab OR anti-PD1 OR anti-CTLA4 OR "immune checkpoint")

**4.2 Estimate result volume**
- Test query or heuristic estimation
- Weekly volume guideline: [10-1000]? Define threshold for domain

**4.3 Apply refinement rules:**

**If too broad (> threshold):**
- Add entity to pattern for specificity
- Move down hierarchy (parent → child entity)
- Add relationship constraint
- Split into multiple concepts

**If too narrow (< threshold):**
- Generalize entity (child → parent)
- Remove relationship constraint
- Expand vocabulary (more OR terms)
- Merge with related concept

**If rare but critical:**
- Keep anyway if strategically important
- Ensure vocabulary expansion is comprehensive

**4.4 Consider exclusions (use sparingly)**
- Only for systematic noise that positive specification can't handle
- Avoid if terms appear incidentally in relevant papers
- Document why exclusion is safe

---

**PHASE 5: QUERY GENERATION**

**For each final concept:**

**5.1 Map to PubMed syntax**
- MeSH terms where applicable
- Field tags: [ti], [tiab], [majr], etc.
- Proper boolean precedence with parentheses
- Escape special characters

**5.2 Structure boolean expression**
- Entities OR'd internally: (term1 OR term2 OR term3)
- Entities AND'd together: (entity₁ terms) AND (entity₂ terms)
- Relationships implicit in AND structure

**5.3 Handle technical constraints**
- Query length limits (split if needed)
- Character escaping
- Valid PubMed operators

**5.4 Document concept**
- Which topics it covers
- Rationale for specificity level
- Expected volume
- Any exclusions and why

---

**QUALITY GATES**

**Before finalizing:**
- ✓ Every topic covered by at least one concept
- ✓ No concept redundancy (each adds unique coverage)
- ✓ Appropriate volume for each concept (not too broad/narrow)
- ✓ Minimal exclusions used
- ✓ Valid PubMed syntax
- ✓ Vocabulary expansion complete for each entity

---

**KEY PRINCIPLES**

**What is a concept:**
- Single inclusion pattern of entities in relationships
- Not multiple patterns OR'd together (those are separate concepts)
- Generalize entities to achieve breadth, not OR patterns
- Exclusions refine but don't define

**Generalization strategy:**
- If you want "CRISPR OR CAR-T for cancer" → generalize to "gene therapy for cancer"
- Vocabulary expansion within entities, not across concepts

**Hierarchy handling:**
- Keep child if critically important or high volume
- Keep parent if children too rare
- Avoid redundancy where possible

**Volume-driven refinement:**
- Too broad → add specificity or split
- Too narrow → generalize or merge
- Iterate until appropriate range

**Exclusions:**
- Last resort only
- Avoid terms that appear incidentally
- Use for systematic noise only

---

**DELIVERABLE**

**Concept List:** [C1, C2, ..., Cn]

**For each concept Ci:**
- Concept ID and name
- Single inclusion pattern (entities + relationships)
- Vocabulary terms for each entity
- Optional exclusions with justification
- Boolean query in PubMed syntax
- Topics covered
- Expected volume
- Rationale